(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(n){if(n.ep)return;n.ep=!0;const c=e(n);fetch(n.href,c)}})();function j(t){const o={};return t.forEach(e=>{const r=JSON.stringify(e);o[r]=e}),Object.values(o)}const l={board:null,selectedCell:null,level:1},L=()=>{const t=k();return l.board=t,l.board},E=()=>{let t=!0,o=[];if(!l.board)return{isBoardValid:t,invalidCoords:o};const{board:e}=l;for(let r=0;r<e.length;r++)for(let n=0;n<e[0].length;n++){const c={},s={i:r,j:n},d=e[r][n],u=y(s);for(let i=0;i<u.length;i++){const a=u[i],m=e[a.i][a.j],p=d===m,h=c[m];m.length&&(h?(o.push(a),t&&(t=!1)):!h&&p&&(c[m]=!0))}}return o=j(o),{isBoardValid:t,invalidCoords:o}},$=t=>{l.selectedCell=t},S=t=>{const{board:o}=l;if(!o)return;const e=[];for(let r=0;r<o.length;r++)for(let n=0;n<o.length;n++)o[r][n]===t&&e.push({i:r,j:n});return e},g=(t=l==null?void 0:l.selectedCell)=>{if(t)return C(t.id)},v=t=>{var o;if((o=l.selectedCell)!=null&&o.classList.contains("constant"))return null;if(l.selectedCell&&l.board){const e=C(l.selectedCell.id);return l.board[e.i][e.j]=t,{...e,num:t}}return null},C=t=>{const o=t.split("-");return{i:+o[0],j:+o[1]}};function y(t){const{i:o,j:e}=t,r=[];for(let i=0;i<9;i++){const a={i:o,j:i};r.push(a)}for(let i=0;i<9;i++){const a={i,j:e};r.push(a)}const n=Math.floor(o/3)*3,c=Math.floor(e/3)*3,s={i:n,j:c},d=[{i:s.i,j:s.j},{i:s.i+1,j:s.j},{i:s.i+2,j:s.j},{i:s.i,j:s.j+1},{i:s.i+1,j:s.j+1},{i:s.i+2,j:s.j+1},{i:s.i,j:s.j+2},{i:s.i+1,j:s.j+2},{i:s.i+2,j:s.j+2}];return j([...r,...d])}const k=(t=9)=>{let o=[];for(let e=0;e<t;e++){o[e]=[];for(let r=0;r<t;r++){const n="";o[e][r]=n}}return o};function N(t){var e;const o=g(t);o&&((e=y(o))==null||e.forEach(({i:r,j:n})=>{const c=document.getElementById(`${r}-${n}`);c!=null&&c.classList.contains("affected")||c==null||c.classList.add("affected")}))}function A(t){var e;if(document.querySelectorAll(".similar").forEach(r=>r.classList.remove("similar")),!((e=t.textContent)!=null&&e.length))return;const o=S(t.textContent);o&&o.forEach(r=>{var n;(n=document.getElementById(`${r.i}-${r.j}`))==null||n.classList.add("similar")})}function f(t){document.querySelectorAll(".selected").forEach(o=>o.classList.remove("selected")),$(t),t.classList.add("selected"),document.querySelectorAll(".affected").forEach(o=>o.classList.remove("affected")),N(t),A(t)}function B(t){t.forEach(o=>{var e;(e=document.getElementById(`${o.i}-${o.j}`))==null||e.classList.add("red")})}function I(t){if(!t)return;const o=document.getElementById(`${t.i}-${t.j}`);o&&(o.innerHTML=t.num)}function b(t){const o=v(t);I(o);const{isBoardValid:e,invalidCoords:r}=E();document.querySelectorAll(".red").forEach(n=>n.classList.remove("red")),e||B(r)}function w(t){const o=Number(t.key);if(Number.isInteger(o)&&o!==0){b(o.toString());return}const e=g();if(e)switch(t.key){case"Backspace":b("");break;case"ArrowLeft":{if(e.i<1)return;const r=document.getElementById(`${e.i-1}-${e.j}`);r&&f(r)}break;case"ArrowRight":{if(e.i>12)return;const r=document.getElementById(`${e.i+1}-${e.j}`);r&&f(r)}break;case"ArrowDown":{if(e.j>12)return;const r=document.getElementById(`${e.i}-${e.j+1}`);r&&f(r)}break;case"ArrowUp":{if(e.j<1)return;const r=document.getElementById(`${e.i}-${e.j-1}`);r&&f(r)}break}}const T=(t,o)=>{let e='<table border="0"><tbody>';for(let c=0;c<t.length;c++){const s=c<t.length-1?c%3===2?"border-right-bold":"border-right":"";e+=`<tr class="${s}">`;for(let d=0;d<t[0].length;d++){var r=t[c][d];const u="cell",i=t[c][d]?"constant":"",a=d<t[0].length-1?d%3===2?"border-bottom-bold":"border-bottom":"";e+=`<td  class="${u} ${a} ${i}" id="${c}-${d}"  >${r}</td>`}e+="</tr>"}e+="</tbody></table>";const n=document.querySelector(o);n&&(n.innerHTML=e)},q=()=>{const t=L();t&&T(t,".board"),document.querySelectorAll(".cell").forEach(e=>e.addEventListener("click",()=>f(e))),document.querySelectorAll(".num-btn").forEach(e=>e.addEventListener("click",()=>{b(e.textContent||"")})),window.addEventListener("keyup",w)};window.addEventListener("load",q);
